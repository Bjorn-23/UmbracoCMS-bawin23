@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockGridItem>
@{
    bool.TryParse(ViewData["name-error"]?.ToString()!, out bool error_name);
    bool.TryParse(ViewData["email-error"]?.ToString()!, out bool error_email);
    bool.TryParse(ViewData["phone-error"]?.ToString()!, out bool error_phone);


}

<div class="form-wrapper">

    <div class="form-header bg-primary">
        <h3>Request a call back</h3>
    </div>

    @using (Html.BeginUmbracoForm("HandleCallbackRequestSubmit", "ContactSurface", FormMethod.Post))
    {
        <p>Dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat</p>
        <div class="input-group">
            <label class="form-label" for="formName">Name</label>
            <input id="formName" name="name" type="text" placeholder="Name" value="@ViewData["name"]" />
            <span class="form-input-error @((error_name) ? "form-invalid-input" : null)">You must enter your name</span>
        </div>
        <div class="input-group">
            <label class="form-label" for="formEmail">E-mail</label>
            <input id="formEmail" name="email" type="email" placeholder="Enter your e-mail address" value="@ViewData["email"]" />
            <span class="form-input-error @((error_email) ? "form-invalid-input" : null)">You must enter a valid e-mail address</span>
        </div>
        <div class="input-group">
            <label class="form-label" for="formPhone">Phone</label>
            <input id="formPhone" name="phone" type="text" placeholder="Enter your phone number" value="@ViewData["phone"]"/>
            <span class="form-input-error @((error_phone) ? "form-invalid-input" : null)">You must enter a phone number</span>
        </div>
@*          <div class="input-group">
             <label class="form-label" for="formMessage">Phone</label>
             <textarea id="formMessage" name="message" type="text" placeholder="Enter your message">@ViewData["message"]</textarea>
             <span class="form-input-error">You must enter a message</span>
         </div> *@
        <div class="input-group">
            <select type="">
                <option value="financialConsulting">Financial Consulting</option>
            </select>
        </div>
        <button class="btn-accent" type="submit">Submit</button>

        @if (ViewData["form-success"]?.ToString() == "true")
        {
            <p class="form-success">Form submitted succesfully</p>
        }
    }
</div>